{"version":3,"file":"ts/degree-program-list-table.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAMA,IAAMA,gBAAgB,GAAG,SAAS;AAClC,IAAMC,iBAAiB,GAAG,uBAAuB;AACjD,IAAMC,gBAAgB,GAAG,sBAAsB;AAE/C,IAAMC,YAAY,GAAG,SAAAA,CAAEC,IAAqB;EAC3C,IAAMC,QAAQ,GAAGD,IAAI,CAACE,SAAS,CAACC,QAAQ,CAAEN,iBAAiB,CAAE;EAC7D,IAAKI,QAAQ,EAAG;IACfD,IAAI,CAACE,SAAS,CAACE,MAAM,CAAEP,iBAAiB,CAAE;IAC1CG,IAAI,CAACE,SAAS,CAACG,GAAG,CAAEP,gBAAgB,CAAE;IACtC;;EAGDE,IAAI,CAACE,SAAS,CAACE,MAAM,CAAEN,gBAAgB,CAAE;EACzCE,IAAI,CAACE,SAAS,CAACG,GAAG,CAAER,iBAAiB,CAAE;AACxC,CAAC;AAED,IAAMS,iBAAiB,GAAG,SAAAA,CAAEC,IAA0B;;EACrD,IAAMP,IAAI,GAAGO,IAAI,CAACC,aAAa,CAAqB,MAAM,CAAE;EAC5D,IAAK,CAAER,IAAI,EAAG;IACb,OAAO,KAAK;;EAGb,IAAKA,IAAI,CAACE,SAAS,CAACC,QAAQ,CAAEP,gBAAgB,CAAE,EAAG;IAClD,OAAO,KAAK;;EAGb,IAAMa,EAAE,GAAG,CAAE,CAAAC,EAAA,IAAAC,EAAA,GAAAJ,IAAI,CAACK,aAAa,cAAAD,EAAA,uBAAAA,EAAA,CAAEF,EAAE,cAAAC,EAAA,cAAAA,EAAA,GAAI,EAAE,EAAGG,KAAK,CAAE,GAAG,CAAE,CAAE,CAAC,CAAE;EAC7D,IAAK,CAAEJ,EAAE,EAAG;IACX,OAAO,KAAK;;EAGbT,IAAI,CAACE,SAAS,CAACG,GAAG,CAAET,gBAAgB,CAAE;EAEtC,IAAMkB,OAAO,GAAG,IAAIC,eAAe,CAAAC,QAAA,CAAAA,QAAA,KAC/BC,MAAM,CAACC,gCAAgC;IAC1CT,EAAE,EAAAA;EAAA,GACA;EAEHU,KAAK,CAAEF,MAAM,CAACG,OAAO,EAAE;IACtBC,MAAM,EAAE,MAAM;IACdC,IAAI,EAAER;GACN,CAAE,CACDS,IAAI,CAAE,UAAEC,QAAQ;IAChB,OAAOA,QAAQ,CAACC,IAAI,EAAE;EACvB,CAAC,CAAE,CACFF,IAAI,CAAE,UAAEC,QAAQ;IAChB,IAAK,CAAEA,QAAQ,CAACE,OAAO,EAAG;MAEzBC,KAAK,CAAEH,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAE;MAC9B;;IAGD9B,YAAY,CAAEC,IAAI,CAAE;EACrB,CAAC,CAAE,CACF8B,OAAO,CAAE;IACT9B,IAAI,CAACE,SAAS,CAACE,MAAM,CAAER,gBAAgB,CAAE;EAC1C,CAAC,CAAE;EAEJ,OAAO,KAAK;AACb,CAAC;AAEDmC,QAAQ,CACNC,gBAAgB,CAA0B,kBAAkB,CAAE,CAC9DC,OAAO,CAAE,UAAE1B,IAAI;EACfA,IAAI,CAAC2B,gBAAgB,CAAE,OAAO,EAAE;IAAM,OAAA5B,iBAAiB,CAAEC,IAAI,CAAE;EAAzB,CAAyB,CAAE;AAClE,CAAC,CAAE;;;;;;;UEvEJ;UACA;UACA;UACA;UACA","sources":["webpack://@rrze/fau-studium/./resources/ts/degree-program-list-table.ts","webpack://@rrze/fau-studium/webpack/before-startup","webpack://@rrze/fau-studium/webpack/startup","webpack://@rrze/fau-studium/webpack/after-startup"],"sourcesContent":["// eslint-disable-next-line @typescript-eslint/no-unused-vars\ninterface Window {\n\tajaxurl: string;\n\tDegreeProgramListTableServerData: object;\n}\n\nconst IS_LOADING_CLASS = 'spinner';\nconst FILLED_STAR_CLASS = 'dashicons-star-filled';\nconst EMPTY_STAR_CLASS = 'dashicons-star-empty';\n\nconst toggleSticky = ( icon: HTMLSpanElement ): void => {\n\tconst isSticky = icon.classList.contains( FILLED_STAR_CLASS );\n\tif ( isSticky ) {\n\t\ticon.classList.remove( FILLED_STAR_CLASS );\n\t\ticon.classList.add( EMPTY_STAR_CLASS );\n\t\treturn;\n\t}\n\n\ticon.classList.remove( EMPTY_STAR_CLASS );\n\ticon.classList.add( FILLED_STAR_CLASS );\n};\n\nconst onStickyCellClick = ( cell: HTMLTableCellElement ): boolean => {\n\tconst icon = cell.querySelector< HTMLSpanElement >( 'span' );\n\tif ( ! icon ) {\n\t\treturn false;\n\t}\n\n\tif ( icon.classList.contains( IS_LOADING_CLASS ) ) {\n\t\treturn false;\n\t}\n\n\tconst id = ( cell.parentElement?.id ?? '' ).split( '-' )[ 1 ];\n\tif ( ! id ) {\n\t\treturn false;\n\t}\n\n\ticon.classList.add( IS_LOADING_CLASS );\n\n\tconst request = new URLSearchParams( {\n\t\t...window.DegreeProgramListTableServerData,\n\t\tid,\n\t} );\n\n\tfetch( window.ajaxurl, {\n\t\tmethod: 'POST',\n\t\tbody: request,\n\t} )\n\t\t.then( ( response ) => {\n\t\t\treturn response.json();\n\t\t} )\n\t\t.then( ( response ) => {\n\t\t\tif ( ! response.success ) {\n\t\t\t\t// eslint-disable-next-line no-alert\n\t\t\t\talert( response.data.message );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttoggleSticky( icon );\n\t\t} )\n\t\t.finally( () => {\n\t\t\ticon.classList.remove( IS_LOADING_CLASS );\n\t\t} );\n\n\treturn false;\n};\n\ndocument\n\t.querySelectorAll< HTMLTableCellElement >( 'td.sticky-column' )\n\t.forEach( ( cell ) => {\n\t\tcell.addEventListener( 'click', () => onStickyCellClick( cell ) );\n\t} );\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = {};\n__webpack_modules__[\"./resources/ts/degree-program-list-table.ts\"]();\n",""],"names":["IS_LOADING_CLASS","FILLED_STAR_CLASS","EMPTY_STAR_CLASS","toggleSticky","icon","isSticky","classList","contains","remove","add","onStickyCellClick","cell","querySelector","id","_b","_a","parentElement","split","request","URLSearchParams","__assign","window","DegreeProgramListTableServerData","fetch","ajaxurl","method","body","then","response","json","success","alert","data","message","finally","document","querySelectorAll","forEach","addEventListener"],"sourceRoot":""}